{"version":3,"sources":["og-fouling-forecast.es6.js"],"names":["Polymer","is","listeners","observers","properties","width","type","Number","value","height","margin","Object","notify","top","right","bottom","left","data","Array","showTodayLine","Boolean","today","String","todayLabel","historicalLabel","forecastLabel","cfgXAxis","cfgYAxis","cfgSeries","legendAlignment","dateFormat","timeFormat","timeZone","exchangersLabel","exchangers","forecastDaysLabel","forecastDays","dateRange","fromMoment","toMoment","loadInProgress","_hideExchangers","_hideForecastDropdown","_defaultCfgXAxis","_defaultCfgYAxis","ready","scopeSubtree","$","chart","attached","_setupDefaults","draw","d3","Px","me","length","_massageData","_prepareChartingArea","_prepareAxes","_drawGridLines","_drawTimelineSeparators","_drawAxes","_drawChart","_addClipPath","fire","spinner","finished","axisData","x","y","minimap","assign","forEach","_series","boundary","upperBoundaryLabel","lowerBoundaryLabel","upperBoundarylowerBoundaryLabelLabel","upperBoundaryColor","lowerBoundaryColor","upperBoundaryDashArray","lowerBoundaryDashArray","updateStyle","key","val","customStyle","axisColor","updateStyles","tickColor","clipPathId","Date","getTime","parseTime","inputDateFormat","timeParse","d","timeStamp","i","push","setDateRange","massagedData","adjustedWidth","adjustedHeight","select","remove","containerSvg","append","attr","svg","minimapSvg","toolTip","tip","offset","html","msg","call","scaleTime","range","scaleLinear","clamp","todayAsDate","yMax","max","reduce","a","b","Math","yMin","min","start","domain","extent","d3NiceType","Function","nice","niceTicks","yScaledMin","hideGrid","axisBottom","tickSize","tickFormat","axisLeft","ticks","totalGridLines","selectAll","text","_xAxis","xAxis","_minimapXAxis","tickTimeFormat","format","_yAxis","axisLabel","_getFilteredData","filter","_datum","xStart","xEnd","result","scaledXStart","scaledXEnd","idx","filteredData","radius","isLineChart","_drawLineChart","_drawDots","_drawBrushAndZoomForMinimap","minimapX","minimapY","line","minimapLine","lines","_lineSet","interpolation","curve","style","color","dashArray","_drawUpperBoundary","_drawLowerBoundary","_upperLimit","_lowerLimit","enter","_redrawDots","brushed","event","sourceEvent","s","selection","map","invert","_line","_subIdx","zoom","transform","zoomIdentity","scale","translate","zoomed","t","rescaleX","brush","move","invertX","brushX","handleSize","on","scaleExtent","Infinity","translateExtent","_updateBrush","momentObjs","from","toDate","to","_hasBoundary","item","_redraw","moment","set","_toggleSeries","label","model","get","querySelectorAll","elt","display","_toggleDropdowns","_notifyConsumer","detail","selected","_setForecastDate","newUpperLimit","add"],"mappings":"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","file":"og-fouling-forecast.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-fouling-forecast',\n\n    listeners: {\n      'exchangersCombo.px-dropdown-selection-changed': '_notifyConsumer',\n      'forecastCombo.px-dropdown-selection-changed': '_setForecastDate'\n    },\n\n    observers: [\n      '_redraw(margin, data, cfgXAxis, cfgYAxis, cfgSeries)',\n      '_toggleDropdowns(exchangers, forecastDays)'\n    ],\n\n    properties: {\n      /**\n      * Width of the Chart.\n      *\n      * @property width\n      */\n      width: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n      },\n      /**\n      * Height of the Chart.\n      *\n      * @property height\n      */\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 300\n      },\n      /**\n      * Chart Margin.\n        Default: {top: 30, right: 20, bottom: 40, left: 50}\n      *\n      * @property margin\n      */\n\t\t\tmargin: {\n\t\t\t\ttype: Object,\n\t\t\t\tnotify: true,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn {top: 30, right: 20, bottom: 40, left: 50};\n\t\t\t\t}\n\t\t\t},\n      /**\n      * Chart Data\n      * Format: [{x: Number, y: [y0, y1, y2, y3...]}]\n      * @property data\n      */\n      data: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n      },\n      /**\n       * Show Today Line and subsequently, Historical and Forecast Labels\n       *\n       * @property showTodayLine\n       */\n      showTodayLine: {\n        type: Boolean,\n        value: true\n      },\n      /**\n       * The X-axis point which should be considered as today\n       *\n       * @property today\n       */\n      today: {\n        type: String\n      },\n      /**\n       * Today Label\n       *\n       * @property todayLabel\n       */\n      todayLabel: {\n        type: String,\n        value: \"Today\"\n      },\n      /**\n       * Historical Label\n       *\n       * @property historicalLabel\n       */\n      historicalLabel: {\n        type: String,\n        value: \"Historical\"\n      },\n      /**\n       * Forecast Label\n       *\n       * @property forecastLabel\n       */\n      forecastLabel: {\n        type: String,\n        value: \"Forecast\"\n      },\n      /**\n       * X Axis Config\n       * Eg: {\n            \"color\": \"\",\n            \"axisLabel\": \"\",\n            \"legendLabel\": \"\",\n            \"inputDateFormat\": \"\",\n            \"tickFormat\": \"\",\n            \"tickTimeFormat\": \"\",\n            \"hideGrid\": false,\n            \"d3NiceType\": \"\",\n            \"niceTicks\": 0,\n            \"axisColor\": \"\",\n            \"tickColor\": \"\"\n          }\n       * @property cfgXAxis\n       */\n      cfgXAxis: {\n        type: Object\n      },\n      /**\n       * Y Axis Config\n       * Eg: {\n            \"hideGrid\": false,\n            \"axisLabel\": \"\",\n            \"axisColor\": \"\",\n            \"tickColor\": \"\",\n            \"niceTicks\": 6,\n            \"tickFormat\": \"\",\n            \"start\": 0\n          }\n       * @property cfgYAxis\n       */\n      cfgYAxis: {\n        type: Object\n      },\n      /**\n       * Y Axis Series Config\n       * Eg: [\n            {\n              \"color\": \"\",\n              \"dashArray\": \"\",\n              \"radius\": 2,\n              \"legendLabel\": \"\",\n              \"tickFormat\": \"\",\n              \"type\": \"\",\n              \"interpolation\": \"\",\n              \"xStart\": \"\",\n              \"xEnd\": \"\"\n            }\n          ]\n       * @property cfgSeries\n       */\n      cfgSeries: {\n        type: Array,\n        value() {\n          return [];\n        }\n      },\n      /**\n       * Legend Alignment\n       * Eg: right, left, center\n       *\n       * @property legendAlignment\n       */\n      legendAlignment: {\n        type: String,\n        value: \"left\"\n      },\n      /**\n       * DateFormat\n       * \n       * Eg: YYYY-MM-DD\n       * @property dateFormat\n       */\n      dateFormat: {\n        type: String,\n        value: \"YYYY-MM-DD\"\n      },\n      /**\n       * Time Format\n       * Eg: HH:mm:ss\n       *\n       * @property timeFormat\n       */\n      timeFormat: {\n        type: String,\n        value: \"HH:mm:ss\"\n      },\n      /**\n       * Timezone\n       * Eg: UTC\n       *\n       * @property timeZone\n       */\n      timeZone: {\n        type: String,\n        value: \"UTC\"\n      },\n      /**\n       * Heat Exchanger Label\n       * Eg: HX Case\n       *\n       * @property exchangersLabel\n       */\n      exchangersLabel: {\n        type: String,\n        value: \"HX CASE\"\n      },\n      /**\n      * List of Exchangers\n      * Eg: [{\"key\":\"1\",\"val\":\"HX001\", \"selected\": true},{\"key\":\"2\",\"val\":\"HX002\"}]\n      * To hide Exchangers dropdown, pass null\n      *\n      * @property exchangersLabel\n      */\n      exchangers: {\n        type: Array,\n        value() {\n          return [];\n        }\n      },\n      /**\n       * Days to Forecast Dropdown Label\n       * Eg: Days to Forecast\n       *\n       * @property forecastDaysLabel\n       */\n      forecastDaysLabel: {\n        type: String,\n        value: \"Days to Forecast\"\n      },\n      /**\n      * List of forecastDays\n      * Eg: [{\"key\":\"1\",\"val\":30, \"selected\": true},{\"key\":\"2\",\"val\":60}]\n      * To hide Forecast dropdown, pass null\n      *\n      * @property forecastDays\n      */\n      forecastDays: {\n        type: Array,\n        value() {\n          return [];\n        }\n      },\n      dateRange: {\n        type: String,\n        notify: true\n      },\n      fromMoment: {\n        type: String,\n        notify: true\n      },\n      toMoment: {\n        type: String,\n        notify: true\n      },\n      loadInProgress: {\n        type: Boolean,\n        value: true\n      },\n      _hideExchangers: false,\n      _hideForecastDropdown: false\n    },\n\n    _defaultCfgXAxis: {\n      \"color\": \"\",\n      \"axisLabel\": \"\",\n      \"legendLabel\": \"\",\n      \"inputDateFormat\": \"%Q\",\n      \"tickFormat\": \"\",\n      \"tickTimeFormat\": \"\",\n      \"hideGrid\": false,\n      \"d3NiceType\": \"timeDay\",\n      \"niceTicks\": 0,\n      \"axisColor\": \"\",\n      \"tickColor\": \"\"\n    },\n\n    _defaultCfgYAxis: {\n      \"hideGrid\": false,\n      \"axisLabel\": \"\",\n      \"axisColor\": \"\",\n      \"tickColor\": \"\",\n      \"niceTicks\": 6,\n      \"tickFormat\": \"\",\n      \"start\": 0\n    },\n\n    ready() {\n      this.scopeSubtree(this.$.chart, true);\n    },\n\n    attached() {\n      this._setupDefaults();\n    },\n\n    draw() {\n      this._setupDefaults();\n      let d3 = Px.d3, data = this.data, me = this;\n      if(!data || data.length === 0 || !this.cfgSeries || !this.cfgSeries.length) {return;}\n      data = this._massageData(data);\n      this._prepareChartingArea();\n      this._prepareAxes(data);\n      this._drawGridLines(data);\n      this._drawTimelineSeparators(data);\n      this._drawAxes(data);\n      this._drawChart(data);\n      this._addClipPath();\n\n      this.fire(\"chart-drawn\", {});\n      this.$.spinner.finished = true;\n      this.loadInProgress = false;\n    },\n    \n    _setupDefaults() {\n      this.axisData = {x: {}, y: {}};\n      this.minimap = this.minimap || {};\n      Object.assign(this.axisData.x, this._defaultCfgXAxis, this.cfgXAxis);\n      Object.assign(this.axisData.y, this._defaultCfgYAxis, this.cfgYAxis);\n\n      if(this.cfgSeries) {\n        this.cfgSeries.forEach((_series) => {\n          if(_series.boundary) {\n            _series.upperBoundaryLabel = _series.upperBoundaryLabel || \"Forecast Data (UB)\";\n            _series.lowerBoundaryLabel = _series.upperBoundarylowerBoundaryLabelLabel || \"Forecast Data (LB)\";\n            _series.upperBoundaryColor = _series.upperBoundaryColor || \"gray\";\n            _series.lowerBoundaryColor = _series.lowerBoundaryColor || \"gray\";\n            _series.upperBoundaryDashArray = _series.upperBoundaryDashArray || \"2,2\";\n            _series.lowerBoundaryDashArray = _series.lowerBoundaryDashArray || \"2,2\";\n          }\n        });\n      }\n\n      const updateStyle = (key, val) => {\n        if(this.customStyle) {\n          this.customStyle['--x-axis-color'] = this.axisData.x.axisColor;\n          this.updateStyles();\n        } else {\n          this.updateStyles({\"`${key}`\": val});\n        }\n      };\n      \n      if(this.axisData.x.axisColor) {\n        updateStyle('--x-axis-color', this.axisData.x.axisColor);\n      }\n      if(this.axisData.x.tickColor) {\n        updateStyle('--x-tick-color', this.axisData.x.tickColor);\n      }\n      if(this.axisData.y.axisColor) {\n        updateStyle('--y-axis-color', this.axisData.y.axisColor);\n      }\n      if(this.axisData.y.tickColor) {\n        updateStyle('--y-tick-color', this.axisData.y.tickColor);\n      }\n      this.clipPathId = \"fouling-forecast-clip-\" + new Date().getTime();\n    },\n\n    _massageData(data) {\n      let d3 = Px.d3;\n      // parse the date / time\n      this.parseTime = this.axisData.x.inputDateFormat ?\n        d3.timeParse(this.axisData.x.inputDateFormat) : null;\n      \n      data.forEach((d) => {\n        if(this.parseTime) {\n          d.x = d.timeStamp.getTime ? d.x : this.parseTime(d.timeStamp);\n        }\n        d.y = [];\n        for(let i = 0; i < this.cfgSeries.length; i++) {\n          let key = `y${i}`;\n          d[key] = d[key] ? (+d[key]) : 0;\n          d.y.push(+d[key]);\n        }\n      });\n      this.setDateRange(data[0].x, data[data.length-1].x);\n      this.massagedData = data;\n      return data;\n    },\n    _prepareChartingArea() {\n      let d3 = Px.d3;\n      // set the dimensions and margins of the graph\n      this.margin = this.margin || {top: 30, right: 20, bottom: 40, left: 50},\n      this.adjustedWidth = this.width - this.margin.left - this.margin.right,\n      this.adjustedHeight = this.height - this.margin.top - this.margin.bottom - 80;\n\n      this.minimap.margin = {\n        top: 10, \n        right: this.margin.right, \n        bottom: 0, \n        left: this.margin.left\n      };\n      this.minimap.adjustedWidth = this.adjustedWidth;\n      this.minimap.adjustedHeight = 40;\n\n      d3.select(this.$.chart).select(\"svg\").remove();\n      this.containerSvg = d3.select(this.$.chart).append(\"svg\")\n        .attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n        .attr(\"preserveAspectRatio\", \"xMidYMid meet\");\n\n      this.containerSvg.append(\"defs\").append(\"clipPath\")\n        .attr(\"id\", `${this.clipPathId}`)\n      .append(\"rect\")\n        .attr(\"width\", this.adjustedWidth)\n        .attr(\"height\", this.height)\n        .attr(\"x\", 0)\n        .attr(\"y\", 0);\n\n      this.svg = this.containerSvg\n        .append(\"g\")\n          .attr(\"class\", \"focus\")\n          .attr(\"transform\",\n                \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\n      this.minimapSvg = this.containerSvg.append(\"g\")\n        .attr(\"class\", \"minimap\")\n        .attr(\"transform\", \"translate(\" + \n          this.margin.left + \",\" + (this.adjustedHeight + \n              this.minimap.adjustedHeight + 50) + \")\");\n\n      this.toolTip = d3.tip(d3.select(this.$.chart))\n        .attr(\"class\", \"d3-tip\")\n        .offset([-8, 0])\n        .html(function(d) {\n          return d.msg;\n        });\n\n      this.containerSvg.call(this.toolTip);\n    },\n    _prepareAxes(data) {\n      // set the ranges\n      let d3 = Px.d3;\n      if(this.parseTime) {\n        this.x= d3.scaleTime().range([0, this.adjustedWidth]);\n        this.minimap.x = d3.scaleTime().range([0, this.adjustedWidth]);\n      } else {\n        this.x= d3.scaleLinear().range([0, this.adjustedWidth]);\n        this.minimap.x = d3.scaleLinear().range([0, this.adjustedWidth]);\n      }\n      this.y = d3.scaleLinear().range([this.adjustedHeight, 0]).clamp(true);\n      this.minimap.y = d3.scaleLinear().range([this.minimap.adjustedHeight, 0]).clamp(true);\n\n      let x = this.x, y = this.y;\n      this.todayAsDate = this.today && this.parseTime ? this.parseTime(this.today) : null;\n\n      let yMax = d3.max(data, function(d) {\n        return d.y.reduce((a,b) => {\n          return Math.max(a,b);\n        })\n      });\n      let yMin = d3.min(data, function(d) {\n        return d.y.reduce((a,b) => {\n          return Math.min(a,b);\n        })\n      });\n      yMin = this.axisData.y.start ? this.axisData.y.start : yMin;\n\n      x.domain(d3.extent(data, function(d) { return d.x; }));\n      this.minimap.x.domain(x.domain());\n      if(this.axisData.x.d3NiceType instanceof Function) {\n        x.nice(this.axisData.x.d3NiceType());\n        this.minimap.x.nice(this.axisData.x.d3NiceType());\n      } else if(this.parseTime) {\n        x.nice(d3[this.axisData.x.d3NiceType]);\n        this.minimap.x.nice(d3[this.axisData.x.d3NiceType]);\n      } else if(this.axisData.x.niceTicks) {\n        x.nice(this.axisData.x.niceTicks);\n        this.minimap.x.nice(this.axisData.x.niceTicks);\n      } else {\n        x.nice();\n        this.minimap.x.nice();\n      }\n      y.domain([yMin, yMax]);\n      this.minimap.y.domain(y.domain());\n      if(this.axisData.y.niceTicks) {\n        y.nice(this.axisData.y.niceTicks);\n        this.minimap.y.nice(this.axisData.y.niceTicks);\n      }\n    },\n    _drawGridLines(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      let yScaledMin = y(y.domain()[0]);\n      if(!this.axisData.x.hideGrid) {\n        this.svg.append(\"g\")\n          .attr(\"class\", \"grid x-grid\")\n          .call(d3.axisBottom(x)\n              // .ticks(this.axisData.x.totalGridLines || 10)\n              .tickSize(this.adjustedHeight)\n              .tickFormat(\"\"));\n      }\n\n      if(!this.axisData.y.hideGrid) {\n        this.svg.append(\"g\")\n          .attr(\"class\", \"grid y-grid\")\n          .call(d3.axisLeft(y)\n              .ticks(this.axisData.y.totalGridLines || 5)\n              .tickSize(-this.adjustedWidth)\n              .tickFormat(\"\"));\n      }\n    },\n    _drawTimelineSeparators(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      this.svg.selectAll(\".line-sep\").remove();\n      if(this.showTodayLine) {\n        this.svg.append(\"svg:line\")\n          .attr(\"class\", \"line-sep today\")\n          .attr(\"x1\", x(this.todayAsDate))\n          .attr(\"y1\", this.adjustedHeight+18)\n          .attr(\"x2\", x(this.todayAsDate))\n          .attr(\"y2\", -7);\n\n        if(this.historicalLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"line-sep today-text\")\n            .attr(\"x\", x(this.todayAsDate)/3)\n            .attr(\"y\", -9)\n            .text(this.historicalLabel);\n        }\n\n        if(this.todayLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"line-sep today-text\")\n            .attr(\"x\", x(this.todayAsDate)-10)\n            .attr(\"y\", -9)\n            .text(this.todayLabel);\n        }\n\n        if(this.forecastLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"line-sep today-text\")\n            .attr(\"x\", x(this.todayAsDate)*1.1)\n            .attr(\"y\", -9)\n            .text(this.forecastLabel);\n        }\n      }\n    },\n\n    _drawAxes(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n\n      // Add the X Axis\n      let _xAxis = d3.axisBottom(x);\n      this.xAxis = _xAxis;\n\n      let _minimapXAxis = d3.axisBottom(this.minimap.x);\n\n      if(this.parseTime && this.axisData.x.tickTimeFormat) {\n        _xAxis.tickFormat(d3.timeFormat(this.axisData.x.tickTimeFormat));\n        _minimapXAxis.tickFormat(d3.timeFormat(this.axisData.x.tickTimeFormat));\n      } else if(this.axisData.x.tickFormat) {\n        _xAxis.tickFormat(d3.format(this.axisData.x.tickFormat));\n        _minimapXAxis.tickFormat(d3.format(this.axisData.x.tickFormat));\n      }\n      if(this.axisData.x.niceTicks) {\n        _xAxis.ticks(this.axisData.x.niceTicks);\n        _minimapXAxis.ticks(this.axisData.x.niceTicks);\n      }\n      this.svg.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + this.adjustedHeight + \")\")\n          .attr(\"class\", \"x-axis\")\n          .call(_xAxis);\n      \n      this.minimapSvg.append(\"g\")\n        .attr(\"class\", \"x-axis minimap-x-axis\")\n        .attr(\"transform\", \"translate(0,\" + this.minimap.adjustedHeight + \")\")\n        .call(_minimapXAxis);\n\n      // Add the Y Axis\n      let _yAxis = d3.axisLeft(y).ticks(this.axisData.y.niceTicks || 6);\n      if(this.axisData.y.tickFormat) {\n        _yAxis.tickFormat(d3.format(this.axisData.y.tickFormat));\n      }\n      this.svg.append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .call(_yAxis);\n\n      if(this.axisData.y.axisLabel) {\n        this.svg.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - this.margin.left)\n          .attr(\"x\",0 - (this.adjustedHeight / 2))\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"y-axis-label\")\n          .text(this.axisData.y.axisLabel);\n      }\n\n      if(this.axisData.x.axisLabel) {\n        this.svg.append(\"text\")\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"x-axis-label\")\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"transform\", \"translate(\"+ \n            (this.adjustedWidth/2) +\",\"+(this.adjustedHeight + this.margin.top)+\")\")\n          .text(this.axisData.x.axisLabel);\n      }\n    },\n\n    _getFilteredData(_series, data) {\n      let x = this.x, y = this.y;\n      return data.filter((_datum) => {\n        if(!_series.xStart && !_series.xEnd) {\n          return true;\n        }\n        let result = true;\n        if(_series.xStart) {\n          let scaledXStart = this.parseTime ? this.parseTime(_series.xStart) : +_series.xStart;\n          result = x(_datum.x) >= x(scaledXStart);\n        }\n        if(result && _series.xEnd) {\n          let scaledXEnd = this.parseTime ? this.parseTime(_series.xEnd) : +_series.xEnd;\n          return x(_datum.x) <= x(scaledXEnd);\n        }\n        return result;\n      });\n    },\n\n    _drawChart(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n\n      this.cfgSeries.forEach((_series, idx) => {\n        \n        let filteredData = this._getFilteredData(_series, data);\n\n        if(this.cfgSeries[idx].radius !== 0) {\n          _series.radius = this.cfgSeries[idx].radius || 2;\n        }\n        const isLineChart = this.cfgSeries[idx].type === \"line\";\n\n        if(isLineChart) {\n          this._drawLineChart(_series, filteredData, idx);\n        } else {\n          this._drawDots(_series, filteredData, idx)\n        }\n      });\n      this._drawBrushAndZoomForMinimap();\n    },\n\n    _addClipPath() {\n      this.svg.selectAll(\".series-line\")\n        .attr('clip-path', (d) => {return `url(#${this.clipPathId}`});\n    },\n\n    _drawLineChart(_series, filteredData, idx) {\n      let x = this.x, y = this.y, d3 = Px.d3,\n          minimapX = this.minimap.x, minimapY = this.minimap.y;\n      let line = d3.line()\n        .x(function(d) { return x(d.x); })\n        .y(function(d) { return y(d.y[idx]); });\n\n      let minimapLine = d3.line()\n        .x(function(d) { return minimapX(d.x); })\n        .y(function(d) { return minimapY(d.y[idx]); });\n\n      this.lines = this.lines || [];\n      let _lineSet = [line]\n      this.lines.push(_lineSet);\n      \n      if(this.cfgSeries[idx].interpolation) {\n        line.curve(d3[this.cfgSeries[idx].interpolation]);\n        minimapLine.curve(d3[this.cfgSeries[idx].interpolation]);\n      }\n\n      this.svg.append(\"path\")\n        .data([filteredData])\n        .attr(\"class\", `series-line series-${idx} series-line-${idx}-0`)\n        .style(\"stroke\", _series.color || \"steelblue\")\n        .style(\"stroke-dasharray\", _series.dashArray || \"0,0\")\n        .attr(\"fill\", \"transparent\")\n        .attr(\"d\", line)\n        .style(\"pointer-events\", \"none\");\n\n      if(_series.boundary) {\n        this._drawUpperBoundary(_series, filteredData, idx, _lineSet);\n        this._drawLowerBoundary(_series, filteredData, idx, _lineSet);\n      }\n\n      this.minimapSvg.append(\"path\")\n        .data([filteredData])\n        .attr(\"class\", `minimap-line minimap-series-${idx}`)\n        .style(\"stroke\", _series.color || \"steelblue\")\n        .style(\"stroke-dasharray\", _series.dashArray || \"0,0\")\n        .attr(\"fill\", \"transparent\")\n        .attr(\"d\", minimapLine)\n        .style(\"pointer-events\", \"none\");\n    },\n\n    _drawUpperBoundary(_series, filteredData, idx, _lineSet) {\n      let x = this.x, y = this.y, d3 = Px.d3, \n        _upperLimit = 1+_series.boundary;\n      let line = d3.line()\n        .x(function(d) { return x(d.x); })\n        .y(function(d) { return y(d.y[idx]) * _upperLimit; });\n\n      _lineSet.push(line);\n      \n      if(this.cfgSeries[idx].interpolation) {\n        line.curve(d3[this.cfgSeries[idx].interpolation]);\n      }\n\n      this.svg.append(\"path\")\n        .data([filteredData])\n        .attr(\"class\", `series-line boundary series-${idx} series-line-${idx}-1`)\n        .style(\"stroke\", \n          _series.upperBoundaryColor)\n        .style(\"stroke-dasharray\", \n          _series.upperBoundaryDashArray)\n        .attr(\"fill\", \"transparent\")\n        .attr(\"d\", line)\n        .style(\"pointer-events\", \"none\");\n    },\n\n    _drawLowerBoundary(_series, filteredData, idx, _lineSet) {\n      let x = this.x, y = this.y, d3 = Px.d3, \n        _lowerLimit = 1.00 - (+_series.boundary);\n      let line = d3.line()\n        .x(function(d) { return x(d.x); })\n        .y(function(d) { return y(d.y[idx]) * _lowerLimit; });\n\n      _lineSet.push(line);\n      \n      if(this.cfgSeries[idx].interpolation) {\n        line.curve(d3[this.cfgSeries[idx].interpolation]);\n      }\n\n      this.svg.append(\"path\")\n        .data([filteredData])\n        .attr(\"class\", `series-line boundary series-${idx} series-line-${idx}-2`)\n        .style(\"stroke\", \n          _series.lowerBoundaryColor)\n        .style(\"stroke-dasharray\", \n          _series.lowerBoundaryDashArray)\n        .attr(\"fill\", \"transparent\")\n        .attr(\"d\", line)\n        .style(\"pointer-events\", \"none\");\n    },\n\n    _drawDots(_series, filteredData, idx) {\n      let x = this.x, y = this.y, d3 = Px.d3,\n          minimapX = this.minimap.x, minimapY = this.minimap.y;\n\n      this.lines = this.lines || [];\n      this.lines.push(null);\n      this.svg.selectAll(\".dot\")\n        .data(filteredData)\n        .enter()\n          .append(\"circle\")\n          .attr(\"r\", _series.radius)\n          .attr(\"cx\", (d, i) => x(d.x))\n          .attr(\"cy\", (d) => y(d.y[idx]))\n          .attr(\"fill\", _series.color || \"steelblue\")\n          .attr(\"class\", `main-chart-series-circle-${idx} series-${idx}`);\n\n      this.minimapSvg.selectAll(\".dot\")\n        .data(filteredData)\n        .enter()\n          .append(\"circle\")\n          .attr(\"r\", _series.radius/3)\n          .attr(\"cx\", (d, i) => minimapX(d.x))\n          .attr(\"cy\", (d) => minimapY(d.y[idx]))\n          .attr(\"fill\", _series.color || \"steelblue\")\n          .attr(\"class\", `minimap-series-circle-${idx}`);\n    },\n\n    _redrawDots(idx) {\n      Px.d3.select(this.$.chart)\n        .selectAll(`.main-chart-series-circle-${idx}`).remove();\n      let _series = this.cfgSeries[idx];\n      if(_series && this.massagedData) {\n        let filteredData = this._getFilteredData(_series, this.massagedData);\n        let x = this.x, y = this.y, d3 = Px.d3\n        this.svg.selectAll(\".dot\")\n          .data(filteredData)\n          .enter()\n            .append(\"circle\")\n            .attr(\"r\", _series.radius)\n            .attr(\"cx\", (d, i) => x(d.x))\n            .attr(\"cy\", (d) => y(d.y[idx]))\n            .attr(\"fill\", _series.color || \"steelblue\")\n            .attr(\"class\", `main-chart-series-circle-${idx}`);\n      }\n    },\n\n    _drawBrushAndZoomForMinimap() {\n      let x = this.x, y = this.y, d3 = Px.d3, me = this;\n\n      this.brushed = () => {\n        if(d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\n        let s = d3.event.selection || me.minimap.x.range();\n        x.domain(s.map(me.minimap.x.invert, me.minimap.x));\n        me.lines && me.lines.forEach((_lineSet, idx) => {\n          if(_lineSet) {\n            _lineSet.forEach((_line, _subIdx) => {\n              me.svg.select(`.series-line-${idx}-${_subIdx}`).attr(\"d\", _line);\n            });\n          } else {\n            me._redrawDots(idx);\n          } \n        });\n        me.svg.select(\".x-axis\").call(me.xAxis);\n        me.svg.select(\".zoom\").call(me.zoom.transform, \n          d3.zoomIdentity\n            .scale(me.adjustedWidth / (s[1] - s[0]))\n            .translate(-s[0], 0));\n        me.setDateRange(x.domain()[0], x.domain()[1]);\n        me._drawTimelineSeparators();\n      }\n\n      this.zoomed = () => {\n        if(d3.event.sourceEvent && d3.event.sourceEvent.type === \"brush\") return; // ignore zoom-by-brush\n        let t = d3.event.transform;\n        x.domain(t.rescaleX(me.minimap.x).domain());\n        me.lines && me.lines.forEach((_lineSet, idx) => {\n          if(_lineSet) {\n            _lineSet.forEach((_line, _subIdx) => {\n              me.svg.select(`.series-line-${idx}-${_subIdx}`).attr(\"d\", _line);\n            });\n          } else {\n            me._redrawDots(idx);\n          }\n        })\n        me.svg.select(\".x-axis\").call(me.xAxis);\n        me.minimapSvg.select(\".brush\")\n          .call(me.brush.move, x.range().map(t.invertX, t));\n        me.setDateRange(x.domain()[0], x.domain()[1]);\n        me._drawTimelineSeparators();\n      };\n\n      this.brush = d3.brushX()\n        .extent([[0, 0], [this.adjustedWidth, this.minimap.adjustedHeight]])\n        .handleSize(7)\n        .on(\"brush end\", this.brushed);\n\n      this.zoom = d3.zoom()\n        .scaleExtent([1, Infinity])\n        .translateExtent([[0, 0], [this.adjustedWidth, this.height]])\n        .extent([[0, 0], [this.adjustedWidth, this.height]])\n        .on(\"zoom\", this.zoomed);\n  \n      this.minimapSvg.append(\"g\")\n        .attr(\"class\", \"brush\")\n        .call(this.brush)\n        .call(this.brush.move, this.x.range());\n  \n      this.minimapSvg.append(\"rect\")\n        .attr(\"class\", \"zoom\")\n        .attr(\"width\", this.adjustedWidth)\n        .attr(\"height\", this.minimap.adjustedHeight)\n        .attr(\"transform\", \"translate(\" + \n          this.margin.left + \",\" + (this.adjustedHeight + \n            this.minimap.adjustedHeight + 50) + \")\")\n        .call(this.zoom);\n    },\n\n    _updateBrush(event, range) {\n      if(!range || !this.brush) {return;}\n      let x = this.x, y = this.y, d3 = Px.d3, me = this;\n      let s = me.minimap.x.range();\n      x.domain(s.map(me.minimap.x.invert, me.minimap.x));\n      this.minimapSvg\n        .select(\".brush\")\n        .call(this.brush.move, \n          [x(range.momentObjs.from.toDate()), x(range.momentObjs.to.toDate())]);\n    },\n\n    _hasBoundary(item) {\n      return item.boundary ? true : false;\n    },\n\n    _redraw(margin, data, cfgXAxis, cfgYAxis, cfgSeries) {\n      if(!data || !data.length) {\n        return;\n      }\n      Px.d3.select(this.$.chart).select(\"svg\").remove();\n      this.draw();\n    },\n\n    setDateRange(fromMoment, toMoment) {\n      this.fromMoment = Px.moment(fromMoment, 'x');\n      this.toMoment = Px.moment(toMoment, 'x');\n      const range = {\n        \"from\": this.fromMoment.format('YYYY-MM-DDThh:mm:ss'),\n        \"to\": this.toMoment.format('YYYY-MM-DDThh:mm:ss')\n      };\n      this.set(\"dateRange\", range);\n\n    },\n\n    _toggleSeries(event) {\n      const label = \"series-\" + event.model.get(\"idx\");\n\n      this[label] = !this[label];\n\t\t\tif(this[label]) {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n    },\n\n    _toggleDropdowns(exchangers, forecastDays) {\n      if(!exchangers || !exchangers.length) {\n        this._hideExchangers = true;\n      }\n      if(!forecastDays || !forecastDays.length) {\n        this._hideForecastDropdown = true;\n      }\n    },\n\n    /**\n    * @event hx-changed\n    *\n    * Event fired when any given element is selected or deselected in the exchanger dropdown.\n    * `evt.detail` contains:\n    * ```\n    * { val: \"text of the changed element\",\n    *   key: \"key of the changed element\",\n    *   selected: true }\n    * ```\n    */\n    _notifyConsumer(event) {\n      if(event.detail.selected) {\n        this.fire(\"hx-changed\", event.detail);\n      }\n    },\n\n   _setForecastDate(event) {\n    if(event.detail.selected && event.detail.val \n        && this.fromMoment && this.toMoment) {\n      this.todayAsDate = this.todayAsDate || new Date();\n      let newUpperLimit = Px.moment(this.todayAsDate.getTime(), 'x');\n      this.toMoment = newUpperLimit.add(+event.detail.val, 'days');\n      let range = {\n        \"from\": this.fromMoment.format('YYYY-MM-DDThh:mm:ss'),\n        \"to\": this.toMoment.format('YYYY-MM-DDThh:mm:ss')\n      }\n      this.set(\"dateRange\", range);\n    }\n  }\n  });\n})();\n"]}